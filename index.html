<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
<meta name="theme-color" content="#080706"/>
<title>ChairMatch</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Cinzel:wght@400;600;700;900&family=DM+Sans:wght@300;400;500;600;700;800&display=swap');
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
html,body{height:100%;background:#060504;font-family:'DM Sans',sans-serif;color:#F0E8D8;overflow:hidden}
:root{--bg:#060504;--c1:#0D0B08;--c2:#141108;--c3:#1C1810;--c4:#232018;--c5:#2E2A1E;
--gold:#C8A84B;--gold2:#E8D06A;--gold3:#F5E080;--goldlo:rgba(200,168,75,0.08);
--cream:#F0E8D8;--stone:#8A8070;--stone2:#5A5448;--red:#E85040;--green:#4A8A5A}
.serif{font-family:'Cormorant Garamond',serif}
.cinzel{font-family:'Cinzel',serif}
.shell{width:100%;max-width:430px;margin:0 auto;height:100vh;background:var(--c1);position:relative;display:flex;flex-direction:column;overflow:hidden}
.screen{flex:1;overflow-y:auto;overflow-x:hidden;padding-bottom:72px;-webkit-overflow-scrolling:touch}
.screen::-webkit-scrollbar{display:none}
button{border:none;background:none;cursor:pointer;font-family:inherit;color:inherit}
.bgold{background:linear-gradient(135deg,#D4AE54,#C8A84B,#B8982B);color:#080706;font-weight:800;border-radius:14px;padding:14px 22px;font-size:14px;width:100%;border:none;cursor:pointer;font-family:inherit;display:block;box-shadow:0 4px 20px rgba(200,168,75,0.3)}
.bgold:disabled{opacity:.4;box-shadow:none}
.boutline{background:transparent;border:1.5px solid rgba(200,168,75,.35);color:var(--gold2);font-weight:700;border-radius:14px;padding:14px 22px;font-size:14px;cursor:pointer;font-family:inherit}
.inp{width:100%;background:var(--c3);border:1.5px solid rgba(200,168,75,.12);border-radius:12px;padding:13px 16px;color:var(--cream);font-family:inherit;font-size:14px;outline:none}
.inp:focus{border-color:var(--gold)}
.inp::placeholder{color:var(--stone2)}
.card{background:var(--c2);border-radius:18px;border:1px solid rgba(200,168,75,.08);overflow:hidden}
.lsm{font-size:10px;font-weight:800;letter-spacing:.12em;color:var(--stone);text-transform:uppercase}
.lgold{font-size:10px;font-weight:800;letter-spacing:.12em;color:var(--gold);text-transform:uppercase}
.badge{display:inline-flex;align-items:center;padding:4px 10px;border-radius:20px;font-size:10px;font-weight:700}
.bgd{background:rgba(200,168,75,.12);color:var(--gold2);border:1px solid rgba(200,168,75,.2)}
.bgr{background:rgba(74,138,90,.15);color:#6ABF80;border:1px solid rgba(74,138,90,.25)}
.brd{background:rgba(232,80,64,.12);color:#F07060;border:1px solid rgba(232,80,64,.2)}
.nav{position:absolute;bottom:0;left:0;right:0;background:rgba(6,5,4,.97);border-top:1px solid rgba(200,168,75,.12);display:flex;justify-content:space-around;padding:10px 0 20px;z-index:50}
.nbtn{display:flex;flex-direction:column;align-items:center;gap:4px;padding:2px 16px;cursor:pointer;border:none;background:none;font-family:inherit}
.sticky{position:sticky;top:0;background:var(--c1);z-index:40;border-bottom:1px solid rgba(200,168,75,.08);padding:14px 20px}
.pbar{height:3px;background:var(--c4);border-radius:2px}
.pfill{height:3px;background:linear-gradient(90deg,var(--gold),var(--gold3));border-radius:2px;transition:width .3s}
.check{width:20px;height:20px;border-radius:5px;display:flex;align-items:center;justify-content:center;font-size:10px;flex-shrink:0;border:2px solid var(--c5);background:var(--c4);cursor:pointer}
.check.on{background:var(--gold);border-color:var(--gold);color:#080706}
.overlay{display:none;position:fixed;inset:0;z-index:200;background:rgba(0,0,0,.8);align-items:flex-end}
.overlay.active{display:flex}
.sheet{width:100%;max-width:430px;margin:0 auto;max-height:93vh;overflow-y:auto;background:var(--c1);border-radius:24px 24px 0 0;border:1px solid rgba(200,168,75,.15)}

/* â•â•â• LOGO ANIMATIONS â•â•â• */
@keyframes logoFloat{0%,100%{transform:translateY(0px)}50%{transform:translateY(-4px)}}
@keyframes logoGlow{0%,100%{filter:drop-shadow(0 0 8px rgba(200,168,75,0.4)) drop-shadow(0 0 20px rgba(200,168,75,0.2))}50%{filter:drop-shadow(0 0 16px rgba(232,208,106,0.7)) drop-shadow(0 0 40px rgba(200,168,75,0.4)) drop-shadow(0 0 80px rgba(200,168,75,0.15))}}
@keyframes rimRotate{0%{stroke-dashoffset:0}100%{stroke-dashoffset:-600}}
@keyframes sparkle{0%,100%{opacity:0;transform:scale(0)}40%,60%{opacity:1;transform:scale(1)}}
@keyframes shimmer{0%{stop-color:#FFF8D0}25%{stop-color:#E8C860}50%{stop-color:#FFF0A0}75%{stop-color:#D4A840}100%{stop-color:#FFF8D0}}
@keyframes fu{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
.fu{animation:fu .4s ease both}
.d1{animation-delay:.07s}.d2{animation-delay:.14s}.d3{animation-delay:.22s}
</style>
</head>
<body>
<div class="shell">
  <div class="screen" id="mainScreen"></div>
  <nav class="nav" id="navBar" style="display:none">
    <button class="nbtn" onclick="goTab('home')">
      <span id="ni_home" style="font-size:19px;color:var(--gold)">âŒ‚</span>
      <span id="nl_home" style="font-size:9px;font-weight:700;letter-spacing:.05em;color:var(--gold)">START</span>
    </button>
    <button class="nbtn" onclick="goTab('explore')">
      <span id="ni_explore" style="font-size:19px;color:var(--stone)">â—«</span>
      <span id="nl_explore" style="font-size:9px;font-weight:700;letter-spacing:.05em;color:var(--stone2)">TERMIN</span>
    </button>
    <button class="nbtn" onclick="goTab('offers')">
      <span id="ni_offers" style="font-size:19px;color:var(--stone)">â‹</span>
      <span id="nl_offers" style="font-size:9px;font-weight:700;letter-spacing:.05em;color:var(--stone2)">ANGEBOTE</span>
    </button>
    <button class="nbtn" onclick="goTab('account')">
      <span id="ni_account" style="font-size:19px;color:var(--stone)">â—</span>
      <span id="nl_account" style="font-size:9px;font-weight:700;letter-spacing:.05em;color:var(--stone2)">KONTO</span>
    </button>
  </nav>
</div>
<div class="overlay" id="bookingOverlay" onclick="if(event.target===this)closeBooking()">
  <div class="sheet" id="bookingSheet"></div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CHAIRMATCH LOGO SVG â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function LOGO(size){
  const s=size||180;
  return `<svg width="${s}" height="${Math.round(s*1.15)}" viewBox="0 0 200 230" fill="none" xmlns="http://www.w3.org/2000/svg" style="animation:logoFloat 3s ease-in-out infinite,logoGlow 3s ease-in-out infinite;display:block">
  <defs>
    <!-- Main gold gradient - metallic 3D -->
    <linearGradient id="lGold" x1="0" y1="0" x2="200" y2="230" gradientUnits="userSpaceOnUse">
      <stop offset="0%" stop-color="#FFF8D0"/>
      <stop offset="15%" stop-color="#E8C860"/>
      <stop offset="30%" stop-color="#C8A030"/>
      <stop offset="45%" stop-color="#F5E080"/>
      <stop offset="60%" stop-color="#B8901C"/>
      <stop offset="75%" stop-color="#E0C050"/>
      <stop offset="90%" stop-color="#FFF0A0"/>
      <stop offset="100%" stop-color="#C8A840"/>
    </linearGradient>
    <!-- Deep gold for shadow faces -->
    <linearGradient id="lDark" x1="0" y1="0" x2="0" y2="1" gradientUnits="objectBoundingBox">
      <stop offset="0%" stop-color="#8A6010"/>
      <stop offset="100%" stop-color="#3A2008"/>
    </linearGradient>
    <!-- Background shield fill -->
    <linearGradient id="lBg" x1="0" y1="0" x2="0" y2="230" gradientUnits="userSpaceOnUse">
      <stop offset="0%" stop-color="#1A1608"/>
      <stop offset="40%" stop-color="#120E04"/>
      <stop offset="100%" stop-color="#060402"/>
    </linearGradient>
    <!-- Inner background glow -->
    <radialGradient id="rCenter" cx="50%" cy="40%" r="55%">
      <stop offset="0%" stop-color="#2A2010" stop-opacity="1"/>
      <stop offset="100%" stop-color="#0A0802" stop-opacity="1"/>
    </radialGradient>
    <!-- Glow halo -->
    <radialGradient id="rGlow" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#C8A84B" stop-opacity="0.25"/>
      <stop offset="60%" stop-color="#C8A84B" stop-opacity="0.05"/>
      <stop offset="100%" stop-color="#C8A84B" stop-opacity="0"/>
    </radialGradient>
    <!-- Chair seat gradient -->
    <linearGradient id="lChair" x1="0" y1="0" x2="1" y2="1" gradientUnits="objectBoundingBox">
      <stop offset="0%" stop-color="#F5E080"/>
      <stop offset="30%" stop-color="#C8A84B"/>
      <stop offset="60%" stop-color="#A07828"/>
      <stop offset="100%" stop-color="#C8A84B"/>
    </linearGradient>
    <!-- Drop shadow filter -->
    <filter id="fShadow" x="-20%" y="-20%" width="140%" height="150%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#000" flood-opacity="0.9"/>
    </filter>
    <!-- Glow filter for chair -->
    <filter id="fGlow" x="-40%" y="-40%" width="180%" height="180%">
      <feGaussianBlur stdDeviation="3" result="b1"/>
      <feGaussianBlur stdDeviation="8" result="b2"/>
      <feMerge><feMergeNode in="b2"/><feMergeNode in="b1"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <!-- Outer glow for whole logo -->
    <filter id="fOuter" x="-30%" y="-20%" width="160%" height="150%">
      <feGaussianBlur stdDeviation="12" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <!-- Bevel/emboss for 3D text -->
    <filter id="fBevel">
      <feGaussianBlur in="SourceAlpha" stdDeviation="1" result="blur"/>
      <feSpecularLighting in="blur" surfaceScale="4" specularConstant="1.2" specularExponent="12" result="spec" lighting-color="#FFF8D0">
        <fePointLight x="80" y="30" z="120"/>
      </feSpecularLighting>
      <feComposite in="spec" in2="SourceAlpha" operator="in" result="specOut"/>
      <feBlend in="SourceGraphic" in2="specOut" mode="screen"/>
    </filter>
    <!-- Sparkle filter -->
    <filter id="fSparkle">
      <feGaussianBlur stdDeviation="1.5" result="b"/>
      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <!-- Clip for inner shield -->
    <clipPath id="clipShield">
      <path d="M12 18 Q12 8 22 8 L178 8 Q188 8 188 18 L188 130 Q188 185 100 210 Q12 185 12 130 Z"/>
    </clipPath>
  </defs>

  <!-- â•â•â• OUTER GLOW HALO â•â•â• -->
  <ellipse cx="100" cy="115" rx="92" ry="105" fill="url(#rGlow)" style="animation:logoGlow 3s ease-in-out infinite"/>

  <!-- â•â•â• 3D SHIELD - SHADOW/BASE â•â•â• -->
  <!-- Bottom face (3D depth) -->
  <path d="M14 20 Q14 10 24 10 L176 10 Q186 10 186 20 L186 132 Q186 187 100 212 Q14 187 14 132 Z"
    fill="#0A0800" transform="translate(4,6)" opacity="0.9"/>
  <!-- Side face left (3D) -->
  <path d="M10 18 L14 20 L14 132 Q14 187 100 212 L98 216 Q8 190 8 134 Z"
    fill="url(#lDark)" opacity="0.8"/>
  <!-- Side face right (3D) -->
  <path d="M190 18 L186 20 L186 132 Q186 187 100 212 L102 216 Q192 190 192 134 Z"
    fill="url(#lDark)" opacity="0.6"/>
  <!-- Bottom edge (3D) -->
  <path d="M100 216 L98 212 Q14 187 14 132 L10 134 Q8 190 100 220 Z"
    fill="#6A4A10" opacity="0.7"/>

  <!-- â•â•â• MAIN SHIELD FACE â•â•â• -->
  <path d="M12 18 Q12 8 22 8 L178 8 Q188 8 188 18 L188 130 Q188 185 100 210 Q12 185 12 130 Z"
    fill="url(#lBg)"/>
  <!-- Inner glow on shield -->
  <path d="M12 18 Q12 8 22 8 L178 8 Q188 8 188 18 L188 130 Q188 185 100 210 Q12 185 12 130 Z"
    fill="url(#rCenter)"/>

  <!-- â•â•â• SHIELD BORDER - TRIPLE RIM â•â•â• -->
  <!-- Outer rim glow -->
  <path d="M12 18 Q12 8 22 8 L178 8 Q188 8 188 18 L188 130 Q188 185 100 210 Q12 185 12 130 Z"
    fill="none" stroke="url(#lGold)" stroke-width="4" opacity="0.4" style="filter:blur(2px)"/>
  <!-- Main rim -->
  <path d="M12 18 Q12 8 22 8 L178 8 Q188 8 188 18 L188 130 Q188 185 100 210 Q12 185 12 130 Z"
    fill="none" stroke="url(#lGold)" stroke-width="2.5"/>
  <!-- Inner rim thin line -->
  <path d="M18 20 Q18 14 26 14 L174 14 Q182 14 182 20 L182 128 Q182 180 100 204 Q18 180 18 128 Z"
    fill="none" stroke="url(#lGold)" stroke-width="0.8" opacity="0.5"/>
  <!-- Innermost accent -->
  <path d="M24 23 Q24 18 30 18 L170 18 Q176 18 176 23 L176 126 Q176 174 100 198 Q24 174 24 126 Z"
    fill="none" stroke="url(#lGold)" stroke-width="0.4" opacity="0.25"/>

  <!-- â•â•â• CORNER ORNAMENTS â•â•â• -->
  <!-- Top-left corner jewel -->
  <g transform="translate(22,12)">
    <path d="M0 8 L4 0 L8 8 L4 14 Z" fill="url(#lGold)" opacity="0.9"/>
    <path d="M0 8 L4 4 L4 14 Z" fill="#FFF8D0" opacity="0.4"/>
  </g>
  <!-- Top-right corner jewel -->
  <g transform="translate(168,12)">
    <path d="M0 8 L4 0 L8 8 L4 14 Z" fill="url(#lGold)" opacity="0.9"/>
    <path d="M0 8 L4 4 L4 14 Z" fill="#FFF8D0" opacity="0.4"/>
  </g>
  <!-- Top-left scroll -->
  <path d="M34 20 Q28 20 26 26 Q24 32 30 34 Q22 34 20 40" stroke="url(#lGold)" stroke-width="1.2" fill="none" stroke-linecap="round" opacity="0.6"/>
  <!-- Top-right scroll -->
  <path d="M166 20 Q172 20 174 26 Q176 32 170 34 Q178 34 180 40" stroke="url(#lGold)" stroke-width="1.2" fill="none" stroke-linecap="round" opacity="0.6"/>

  <!-- â•â•â• TOP ORNAMENT LINE â•â•â• -->
  <line x1="38" y1="44" x2="162" y2="44" stroke="url(#lGold)" stroke-width="0.6" opacity="0.35"/>
  <path d="M100 40 L102.5 44 L100 48 L97.5 44 Z" fill="url(#lGold)" opacity="0.6"/>

  <!-- â•â•â• "CHAIR" - TOP WORD â•â•â• -->
  <!-- Shadow depth -->
  <text x="101" y="95" text-anchor="middle" fill="#3A2808"
    font-size="38" font-weight="900" font-family="Cinzel,Georgia,serif" letter-spacing="6">CHAIR</text>
  <!-- Main gold -->
  <text x="100" y="94" text-anchor="middle" fill="url(#lGold)"
    font-size="38" font-weight="900" font-family="Cinzel,Georgia,serif" letter-spacing="6"
    filter="url(#fBevel)">CHAIR</text>
  <!-- Highlight shimmer -->
  <text x="100" y="93" text-anchor="middle" fill="#FFF8D0"
    font-size="38" font-weight="900" font-family="Cinzel,Georgia,serif" letter-spacing="6"
    opacity="0.18">CHAIR</text>

  <!-- â•â•â• MIDDLE ORNAMENTAL DIVIDER â•â•â• -->
  <!-- Main divider lines -->
  <line x1="28" y1="106" x2="172" y2="106" stroke="url(#lGold)" stroke-width="1" opacity="0.5"/>
  <line x1="28" y1="109" x2="172" y2="109" stroke="url(#lGold)" stroke-width="0.4" opacity="0.2"/>
  <!-- Center diamond -->
  <path d="M100 101 L104 106 L100 111 L96 106 Z" fill="url(#lGold)" opacity="0.95"/>
  <path d="M100 103 L102.5 106 L100 109 Z" fill="#FFF8D0" opacity="0.4"/>
  <!-- Side diamonds -->
  <path d="M78 104 L80.5 106 L78 108 L75.5 106 Z" fill="url(#lGold)" opacity="0.6"/>
  <path d="M122 104 L124.5 106 L122 108 L119.5 106 Z" fill="url(#lGold)" opacity="0.6"/>
  <!-- Tiny dots -->
  <circle cx="60" cy="106" r="1.2" fill="url(#lGold)" opacity="0.45"/>
  <circle cx="140" cy="106" r="1.2" fill="url(#lGold)" opacity="0.45"/>
  <circle cx="46" cy="106" r="0.8" fill="url(#lGold)" opacity="0.3"/>
  <circle cx="154" cy="106" r="0.8" fill="url(#lGold)" opacity="0.3"/>

  <!-- â•â•â• "MATCH" - BOTTOM WORD â•â•â• -->
  <!-- Shadow depth -->
  <text x="101" y="148" text-anchor="middle" fill="#3A2808"
    font-size="38" font-weight="900" font-family="Cinzel,Georgia,serif" letter-spacing="6">MATCH</text>
  <!-- Main gold -->
  <text x="100" y="147" text-anchor="middle" fill="url(#lGold)"
    font-size="38" font-weight="900" font-family="Cinzel,Georgia,serif" letter-spacing="6"
    filter="url(#fBevel)">MATCH</text>
  <!-- Highlight shimmer -->
  <text x="100" y="146" text-anchor="middle" fill="#FFF8D0"
    font-size="38" font-weight="900" font-family="Cinzel,Georgia,serif" letter-spacing="6"
    opacity="0.18">MATCH</text>

  <!-- â•â•â• BOTTOM ORNAMENT LINE â•â•â• -->
  <line x1="38" y1="160" x2="162" y2="160" stroke="url(#lGold)" stroke-width="0.6" opacity="0.35"/>
  <path d="M100 156 L102.5 160 L100 164 L97.5 160 Z" fill="url(#lGold)" opacity="0.6"/>

  <!-- â•â•â• EST. SUBLINE â•â•â• -->
  <text x="100" y="180" text-anchor="middle" fill="url(#lGold)"
    font-size="7" font-weight="400" font-family="Cinzel,Georgia,serif" letter-spacing="5"
    opacity="0.65">DEUTSCHLAND Â· EST. 2026</text>

  <!-- â•â•â• SPARKLE STARS (animated) â•â•â• -->
  <g filter="url(#fSparkle)" fill="url(#lGold)">
    <g style="animation:sparkle 2.4s ease-in-out infinite;animation-delay:0s;transform-origin:28px 35px">
      <path d="M28 30 L29.2 33.5 L33 34.5 L29.2 35.5 L28 39 L26.8 35.5 L23 34.5 L26.8 33.5 Z" opacity="0.9"/>
    </g>
    <g style="animation:sparkle 2.4s ease-in-out infinite;animation-delay:0.8s;transform-origin:172px 35px">
      <path d="M172 30 L173.2 33.5 L177 34.5 L173.2 35.5 L172 39 L170.8 35.5 L167 34.5 L170.8 33.5 Z" opacity="0.9"/>
    </g>
    <g style="animation:sparkle 2.4s ease-in-out infinite;animation-delay:1.6s;transform-origin:100px 22px">
      <path d="M100 18 L101 21 L104 22 L101 23 L100 26 L99 23 L96 22 L99 21 Z" opacity="0.75"/>
    </g>
    <g style="animation:sparkle 2.8s ease-in-out infinite;animation-delay:0.4s;transform-origin:48px 155px">
      <path d="M48 152 L49 154.5 L51.5 155.5 L49 156.5 L48 159 L47 156.5 L44.5 155.5 L47 154.5 Z" opacity="0.6"/>
    </g>
    <g style="animation:sparkle 2.8s ease-in-out infinite;animation-delay:1.2s;transform-origin:152px 155px">
      <path d="M152 152 L153 154.5 L155.5 155.5 L153 156.5 L152 159 L151 156.5 L148.5 155.5 L151 154.5 Z" opacity="0.6"/>
    </g>
  </g>

  <!-- â•â•â• SIDE ORNAMENTAL SCROLLWORK â•â•â• -->
  <!-- Left laurel -->
  <path d="M14 75 Q8 68 10 60 Q12 52 18 54 Q13 56 14 62 Q15 68 20 70 Q14 72 14 78 Q14 84 20 86 Q13 86 12 92" 
    stroke="url(#lGold)" stroke-width="1.2" fill="none" stroke-linecap="round" opacity="0.55"/>
  <path d="M14 62 Q10 58 12 53" stroke="url(#lGold)" stroke-width="0.8" fill="none" opacity="0.35"/>
  <!-- Right laurel -->
  <path d="M186 75 Q192 68 190 60 Q188 52 182 54 Q187 56 186 62 Q185 68 180 70 Q186 72 186 78 Q186 84 180 86 Q187 86 188 92"
    stroke="url(#lGold)" stroke-width="1.2" fill="none" stroke-linecap="round" opacity="0.55"/>
  <path d="M186 62 Q190 58 188 53" stroke="url(#lGold)" stroke-width="0.8" fill="none" opacity="0.35"/>
</svg>`;}

// â”€â”€â”€ LOGO HEADER for screens â”€â”€â”€
function logoHeader(small){
  if(small) return `<div style="display:flex;align-items:center;gap:12px">
    <div style="animation:logoFloat 3s ease-in-out infinite,logoGlow 3s ease-in-out infinite;display:inline-block">
      ${LOGO(42)}
    </div>
    <div>
      <p class="cinzel" style="font-size:16px;font-weight:700;letter-spacing:3px;color:var(--gold2);line-height:1">CHAIR<span style="color:var(--gold3)">MATCH</span></p>
      <p style="font-size:9px;letter-spacing:4px;color:var(--stone);margin-top:1px">DEUTSCHLAND</p>
    </div>
  </div>`;
  return `<div style="display:flex;flex-direction:column;align-items:center;padding:24px 0 16px">
    ${LOGO(160)}
  </div>`;}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• DATA â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const CATS=[
  {id:"barber",lbl:"Barbershop",sub:"Fade Â· Cut Â· Bart"},
  {id:"friseur",lbl:"Friseur",sub:"Schnitt Â· Farbe Â· Styling"},
  {id:"kosmetik",lbl:"Kosmetik",sub:"Facial Â· Peeling"},
  {id:"aesthetik",lbl:"Ã„sthetik",sub:"Botox Â· Filler"},
  {id:"nail",lbl:"Nails",sub:"Gel Â· Nail Art"},
  {id:"massage",lbl:"Massage",sub:"Wellness Â· Therapie"}
];
const SPECS=[
  {id:"s1",nm:"Ahmed K.",role:"Master Barber",rt:4.9,cat:"barber",ini:"AK",col:"#2A4A3A"},
  {id:"s2",nm:"Sofia M.",role:"Kosmetikerin",rt:4.8,cat:"kosmetik",ini:"SM",col:"#4A2A3A"},
  {id:"s3",nm:"Dr. Meyer",role:"Ã„sthetik Arzt",rt:5.0,cat:"aesthetik",ini:"DM",col:"#1A3050"},
  {id:"s4",nm:"Lena B.",role:"Nail Artist",rt:4.9,cat:"nail",ini:"LB",col:"#3A3828"},
  {id:"s5",nm:"Marcus R.",role:"Senior Barber",rt:4.7,cat:"barber",ini:"MR",col:"#2A3828"},
  {id:"s6",nm:"Julia H.",role:"Friseurmeisterin",rt:4.9,cat:"friseur",ini:"JH",col:"#3A2840"},
  {id:"s7",nm:"Kenan A.",role:"Masseur",rt:5.0,cat:"massage",ini:"KA",col:"#1A3430"}
];
const PROVS=[
  {id:"p1",cat:"barber",nm:"BlackLabel Barbershop",st:"MÃ¼nchener Str. 17",city:"Frankfurt am Main",rt:4.9,rc:412,tl:"Premium Fades & Beard Design",tags:["Fade","Skin Fade","Bart"],disc:15,bc:"#C8A84B",prom:true,ver:true,live:true,frei:3,sps:["s1","s5"],svs:[{id:"sv1",nm:"Signature Cut",dur:40,pr:42},{id:"sv2",nm:"Skin Fade",dur:45,pr:48},{id:"sv3",nm:"Beard Design",dur:30,pr:28}],revs:[{u:"Tobias K.",s:5,t:"Absolut top â€” bester Fade in Deutschland!",d:"12.02.2026"},{u:"Markus L.",s:5,t:"Super AtmosphÃ¤re, perfektes Ergebnis.",d:"05.02.2026"}]},
  {id:"p2",cat:"kosmetik",nm:"Glow Studio",st:"Maximilianstr. 18",city:"MÃ¼nchen",rt:4.8,rc:234,tl:"Organic Facials & Skin Care",tags:["Facial","Peeling"],disc:0,bc:"#D4829A",prom:false,ver:true,live:true,frei:2,sps:["s2"],svs:[{id:"sv4",nm:"Deep Cleanse Facial",dur:60,pr:85},{id:"sv5",nm:"Chemical Peeling",dur:45,pr:65}],revs:[{u:"Anna S.",s:5,t:"Haut strahlt â€” super Behandlung!",d:"08.02.2026"}]},
  {id:"p3",cat:"aesthetik",nm:"AesthetiQ Klinik",st:"KurfÃ¼rstendamm 55",city:"Berlin",rt:5.0,rc:188,tl:"Med. Ã„sthetik & Anti-Aging",tags:["Botox","Filler"],disc:10,bc:"#6AAED4",prom:true,ver:true,live:false,frei:0,sps:["s3"],svs:[{id:"sv6",nm:"Botox",dur:30,pr:320},{id:"sv7",nm:"Hyaluron Filler",dur:45,pr:450}],revs:[{u:"Sandra M.",s:5,t:"Dr. Meyer ist einfach der Beste.",d:"10.02.2026"}]},
  {id:"p4",cat:"nail",nm:"NailLab by Lena",st:"Jungfernstieg 7",city:"Hamburg",rt:4.9,rc:301,tl:"Gel Nails & Premium Nail Art",tags:["Gel","Nail Art"],disc:0,bc:"#C8A87A",prom:false,ver:true,live:true,frei:1,sps:["s4"],svs:[{id:"sv8",nm:"Gel Manicure",dur:60,pr:55},{id:"sv9",nm:"Nail Art Design",dur:90,pr:75}],revs:[{u:"Julia R.",s:5,t:"Traumhafte NÃ¤gel â€” immer wieder!",d:"14.02.2026"}]},
  {id:"p5",cat:"friseur",nm:"Maison Haarwerk",st:"KÃ¶nigsallee 44",city:"DÃ¼sseldorf",rt:4.9,rc:318,tl:"Premium Haarschnitt & Colorationen",tags:["Damenschnitt","Herrenschnitt","Balayage"],disc:10,bc:"#9A70C8",prom:true,ver:true,live:true,frei:2,sps:["s6"],svs:[{id:"sv10",nm:"Damenschnitt & Styling",dur:60,pr:65},{id:"sv11",nm:"Herrenschnitt",dur:35,pr:38},{id:"sv12",nm:"Balayage / Highlights",dur:120,pr:120}],revs:[{u:"Klara W.",s:5,t:"Julia ist ein GoldstÃ¼ck â€” traumhafte Farbe!",d:"15.02.2026"},{u:"Tom B.",s:5,t:"Bester Haarschnitt seit Jahren.",d:"09.02.2026"}]},
  {id:"p6",cat:"massage",nm:"ZenFlow Massage",st:"Schildergasse 12",city:"KÃ¶ln",rt:5.0,rc:276,tl:"Klassische & Tiefengewebsmassagen",tags:["Klassisch","Tiefengewebe","Hot Stone"],disc:0,bc:"#4AA890",prom:true,ver:true,live:true,frei:4,sps:["s7"],svs:[{id:"sv13",nm:"Klassische Massage",dur:60,pr:75},{id:"sv14",nm:"Tiefengewebsmassage",dur:60,pr:90},{id:"sv15",nm:"Hot Stone Massage",dur:90,pr:110}],revs:[{u:"Peter N.",s:5,t:"Absolut entspannend â€” ich komme jede Woche!",d:"13.02.2026"},{u:"Sabine K.",s:5,t:"Kenan ist ein Profi, Verspannungen einfach weg.",d:"07.02.2026"}]}
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• STATE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let state={tab:"home",catFilter:"all",detail:null,detailTab:"info",bookingProv:null,bookStep:1,bookSv:null,bookDay:0,bookSlot:null,bookSp:null,subPage:null,role:"CUSTOMER",onboarded:false,obStep:0,regStep:1,regData:{vn:"",nn:"",em:"",tel:"",geschaeft:"",st:"",plz:"",city:"",kat:"",iban:"",gb:false,chair:false,cpr:"",agb:false,dsgvo:false},bookDone:false,regDone:false};

function stars(n){let s="";for(let i=1;i<=5;i++)s+=`<span style="opacity:${i<=Math.round(n)?1:.3};color:#E8C86A">â˜…</span>`;return s;}
function badge(t,c){return`<span class="badge ${c}">${t}</span>`;}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• RENDER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function render(){
  const scr=document.getElementById("mainScreen");
  const nav=document.getElementById("navBar");
  const s=state;
  if(!s.onboarded){nav.style.display="none";scr.innerHTML=renderOnboarding();return;}
  if(s.subPage){nav.style.display="none";scr.innerHTML=renderSubPage();return;}
  nav.style.display="flex";
  ["home","explore","offers","account"].forEach(t=>{
    const a=s.tab===t||(t==="home"&&s.detail);
    document.getElementById("ni_"+t).style.color=a?"var(--gold)":"var(--stone)";
    document.getElementById("nl_"+t).style.color=a?"var(--gold)":"var(--stone2)";
  });
  if(s.detail){scr.innerHTML=renderDetail();return;}
  if(s.tab==="home")scr.innerHTML=renderHome();
  else if(s.tab==="explore")scr.innerHTML=renderExplore();
  else if(s.tab==="offers")scr.innerHTML=renderOffers();
  else if(s.tab==="account")scr.innerHTML=renderAccount();
  const ov=document.getElementById("bookingOverlay");
  if(s.bookingProv){ov.classList.add("active");document.getElementById("bookingSheet").innerHTML=renderBooking();}
  else ov.classList.remove("active");
}

// â”€â”€â”€ ONBOARDING â”€â”€â”€
function renderOnboarding(){
  const slides=[{icon:"ğŸ’ˆ",t:"Willkommen bei ChairMatch",s:"Dein Beauty-Partner in ganz Deutschland"},{icon:"ğŸ’º",t:"Stuhl-Vermittlung",s:"Freie StÃ¼hle & Kabinen Â· 0 % Provision"},{icon:"ğŸ“…",t:"Sofort buchen",s:"Termin in 30 Sekunden Â· Ohne Kommission"}];
  if(state.obStep>=3)return`<div style="padding:60px 26px 40px;display:flex;flex-direction:column;gap:12px">
    <div style="text-align:center;margin-bottom:10px">${logoHeader(false)}</div>
    <p class="cinzel" style="font-size:20px;font-weight:600;text-align:center;margin-bottom:6px;color:var(--gold2)">Ich bin...</p>
    ${[["Kunde â€” ich suche Termine","CUSTOMER"],["Anbieter â€” ich biete Services","PROVIDER"],["B2B â€” Stuhl / Kabine mieten","B2B"]].map(([l,r])=>`<button class="boutline" style="padding:17px;font-size:14px;font-weight:700;text-align:left" onclick="finishOnboarding('${r}')">${l}</button>`).join("")}
  </div>`;
  const sl=slides[state.obStep];
  const dots=slides.map((_,i)=>`<div style="width:${i===state.obStep?22:8}px;height:8px;border-radius:4px;background:${i===state.obStep?"var(--gold)":"var(--c4)"};transition:all .3s"></div>`).join("");
  return`<div style="display:flex;flex-direction:column;align-items:center;text-align:center;min-height:100vh;justify-content:center;padding:30px">
    ${state.obStep===0?`<div style="margin-bottom:10px">${logoHeader(false)}</div>`:`<div style="font-size:60px;margin-bottom:20px">${sl.icon}</div>`}
    <p class="cinzel" style="font-size:22px;font-weight:600;margin-bottom:10px;line-height:1.3;color:var(--gold2)">${sl.t}</p>
    <p style="font-size:14px;color:var(--stone);line-height:1.7;margin-bottom:44px">${sl.s}</p>
    <div style="display:flex;gap:8px;margin-bottom:30px">${dots}</div>
    <button class="bgold" style="width:auto;padding:15px 36px;font-size:14px" onclick="nextOb()">
      ${state.obStep<2?"Weiter â†’":"Los geht's"}
    </button>
  </div>`;}

// â”€â”€â”€ CATEGORY SVG ICONS â”€â”€â”€
function catSVG(type){
  if(type==="friseur") return `<svg width="30" height="30" viewBox="0 0 60 60" fill="none">
    <defs>
      <linearGradient id="gF" x1="0" y1="0" x2="60" y2="60" gradientUnits="userSpaceOnUse">
        <stop offset="0%" stop-color="#DDB8FF"/><stop offset="50%" stop-color="#9A70C8"/><stop offset="100%" stop-color="#C8A0FF"/>
      </linearGradient>
      <filter id="gfF"><feDropShadow dx="0" dy="1" stdDeviation="1.5" flood-color="#000" flood-opacity=".7"/></filter>
    </defs>
    <!-- Scissors left blade -->
    <g filter="url(#gfF)">
      <!-- Ring left -->
      <circle cx="12" cy="44" r="8" fill="none" stroke="url(#gF)" stroke-width="2.5"/>
      <circle cx="12" cy="44" r="4" fill="url(#gF)" opacity=".35"/>
      <!-- Ring right -->
      <circle cx="28" cy="44" r="8" fill="none" stroke="url(#gF)" stroke-width="2.5"/>
      <circle cx="28" cy="44" r="4" fill="url(#gF)" opacity=".35"/>
      <!-- Pivot screw -->
      <circle cx="20" cy="36" r="3" fill="url(#gF)"/>
      <circle cx="20" cy="36" r="1.2" fill="#FFF0D0" opacity=".5"/>
      <!-- Left blade -->
      <path d="M12 37 Q14 28 22 14 Q24 10 26 9 Q24 11 23 14 Q20 22 18 29 Q17 33 17 36" 
        fill="url(#gF)" stroke="url(#gF)" stroke-width=".5"/>
      <!-- Right blade -->
      <path d="M28 37 Q26 28 18 14 Q16 10 14 9 Q16 11 17 14 Q20 22 22 29 Q23 33 23 36"
        fill="url(#gF)" stroke="url(#gF)" stroke-width=".5" opacity=".85"/>
      <!-- Blade highlights -->
      <path d="M13 35 Q16 26 23 12" stroke="#FFF0D0" stroke-width=".8" fill="none" opacity=".4" stroke-linecap="round"/>
      <path d="M27 35 Q24 26 17 12" stroke="#FFF0D0" stroke-width=".8" fill="none" opacity=".3" stroke-linecap="round"/>
      <!-- Comb -->
      <rect x="37" y="8" width="14" height="4" rx="2" fill="url(#gF)"/>
      <rect x="37" y="12" width="14" height="34" rx="1" fill="url(#gF)" opacity=".7"/>
      ${[0,1,2,3,4,5,6].map(i=>`<rect x="${38+i*2}" y="13" width="1" height="32" rx=".5" fill="#000" opacity=".25"/>`).join('')}
      <!-- Comb highlight -->
      <rect x="37" y="8" width="14" height="1.5" rx="1" fill="#FFF0D0" opacity=".35"/>
    </g>
  </svg>`;

  if(type==="massage") return `<svg width="30" height="30" viewBox="0 0 60 60" fill="none">
    <defs>
      <linearGradient id="gM" x1="0" y1="0" x2="60" y2="60" gradientUnits="userSpaceOnUse">
        <stop offset="0%" stop-color="#80E8C8"/><stop offset="50%" stop-color="#4AA890"/><stop offset="100%" stop-color="#60D0A8"/>
      </linearGradient>
      <filter id="gfM"><feDropShadow dx="0" dy="1" stdDeviation="1.5" flood-color="#000" flood-opacity=".7"/></filter>
    </defs>
    <g filter="url(#gfM)">
      <!-- Left hand / palm -->
      <path d="M8 40 Q6 34 8 28 Q9 24 13 23 Q14 20 17 20 Q18 17 21 18 Q22 15 25 17 Q27 14 29 17 L30 32 Q28 34 26 33 L25 38 Q24 42 20 43 Q16 45 12 43 Z"
        fill="url(#gM)" opacity=".9"/>
      <!-- Palm highlight -->
      <path d="M10 38 Q9 32 11 27 Q12 24 15 23" stroke="#A0FFE0" stroke-width="1" fill="none" opacity=".4" stroke-linecap="round"/>
      <!-- Fingers detail lines -->
      <line x1="17" y1="20" x2="17" y2="30" stroke="#2A6858" stroke-width=".8" opacity=".5"/>
      <line x1="21" y1="18" x2="21" y2="30" stroke="#2A6858" stroke-width=".8" opacity=".5"/>
      <line x1="25" y1="17" x2="25" y2="30" stroke="#2A6858" stroke-width=".8" opacity=".5"/>
      <!-- Right hand coming from top -->
      <path d="M52 20 Q54 26 52 32 Q51 36 47 37 Q46 40 43 40 Q42 43 39 42 Q38 45 35 43 Q33 46 31 43 L30 28 Q32 26 34 27 L35 22 Q36 18 40 17 Q44 15 48 17 Z"
        fill="url(#gM)" opacity=".75"/>
      <!-- Right hand highlight -->
      <path d="M50 22 Q51 28 49 33 Q48 36 45 37" stroke="#A0FFE0" stroke-width="1" fill="none" opacity=".35" stroke-linecap="round"/>
      <!-- Energy/flow lines between hands -->
      <path d="M30 32 Q30 36 30 38" stroke="url(#gM)" stroke-width="1.5" fill="none" stroke-linecap="round" opacity=".6"/>
      <!-- Aura dots -->
      <circle cx="30" cy="35" r="2" fill="#A0FFE0" opacity=".5"/>
      <circle cx="16" cy="14" r="1.5" fill="url(#gM)" opacity=".6"/>
      <circle cx="44" cy="46" r="1.5" fill="url(#gM)" opacity=".6"/>
      <circle cx="8" cy="22" r="1" fill="url(#gM)" opacity=".4"/>
      <circle cx="52" cy="38" r="1" fill="url(#gM)" opacity=".4"/>
      <!-- Hot stone center -->
      <ellipse cx="30" cy="35" rx="5" ry="3.5" fill="url(#gM)" opacity=".8"/>
      <ellipse cx="30" cy="35" rx="3" ry="2" fill="#C0FFF0" opacity=".35"/>
    </g>
  </svg>`;
  return "";}

// â”€â”€â”€ CLASSIC VINTAGE BARBER CHAIR â”€â”€â”€
function dbSeat(){
  return `<svg width="118" height="130" viewBox="0 0 118 130" fill="none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bcLeather" x1="0" y1="0" x2="0" y2="1" gradientUnits="objectBoundingBox">
      <stop offset="0%" stop-color="#2A2420"/><stop offset="35%" stop-color="#1A1410"/><stop offset="100%" stop-color="#0E0A08"/>
    </linearGradient>
    <linearGradient id="bcLeatherH" x1="0" y1="0" x2="1" y2="0" gradientUnits="objectBoundingBox">
      <stop offset="0%" stop-color="#3A3028"/><stop offset="40%" stop-color="#524840"/><stop offset="60%" stop-color="#3A3028"/><stop offset="100%" stop-color="#201810"/>
    </linearGradient>
    <linearGradient id="bcChrome" x1="0" y1="0" x2="0" y2="1" gradientUnits="objectBoundingBox">
      <stop offset="0%" stop-color="#F8F4EC"/><stop offset="25%" stop-color="#D4C8A8"/><stop offset="50%" stop-color="#F0E8D0"/><stop offset="75%" stop-color="#B8A880"/><stop offset="100%" stop-color="#E8DCC0"/>
    </linearGradient>
    <linearGradient id="bcChromeV" x1="0" y1="0" x2="1" y2="0" gradientUnits="objectBoundingBox">
      <stop offset="0%" stop-color="#C8B888"/><stop offset="30%" stop-color="#F8F0D8"/><stop offset="55%" stop-color="#E8D8B0"/><stop offset="100%" stop-color="#A89060"/>
    </linearGradient>
    <linearGradient id="bcBase" x1="0" y1="0" x2="0" y2="1" gradientUnits="objectBoundingBox">
      <stop offset="0%" stop-color="#E8D8B0"/><stop offset="50%" stop-color="#C8A860"/><stop offset="100%" stop-color="#906830"/>
    </linearGradient>
    <linearGradient id="bcFootring" x1="0" y1="0" x2="0" y2="1" gradientUnits="objectBoundingBox">
      <stop offset="0%" stop-color="#F0E4C0"/><stop offset="50%" stop-color="#C8A848"/><stop offset="100%" stop-color="#806020"/>
    </linearGradient>
    <filter id="bcShadow" x="-20%" y="-10%" width="140%" height="140%">
      <feDropShadow dx="2" dy="3" stdDeviation="3" flood-color="#000" flood-opacity=".7"/>
    </filter>
    <filter id="bcGlow" x="-30%" y="-30%" width="160%" height="160%">
      <feDropShadow dx="0" dy="0" stdDeviation="4" flood-color="#C8A84B" flood-opacity=".2"/>
    </filter>
  </defs>
  <ellipse cx="59" cy="127" rx="36" ry="4" fill="#000" opacity=".5"/>
  <ellipse cx="59" cy="118" rx="34" ry="7" fill="url(#bcBase)" filter="url(#bcShadow)"/>
  <ellipse cx="59" cy="116" rx="32" ry="5.5" fill="url(#bcChrome)"/>
  <ellipse cx="59" cy="115" rx="30" ry="4" fill="none" stroke="#F8F0D0" stroke-width=".8" opacity=".5"/>
  <path d="M27 116 Q59 110 91 116" stroke="#FFF8E0" stroke-width="1.5" fill="none" opacity=".4" stroke-linecap="round"/>
  <rect x="50" y="88" width="18" height="28" rx="9" fill="url(#bcChrome)" filter="url(#bcShadow)"/>
  <rect x="52" y="89" width="5" height="26" rx="2.5" fill="#FFF8E0" opacity=".35"/>
  <rect x="50" y="98" width="18" height="3" rx="1.5" fill="url(#bcChromeV)"/>
  <rect x="22" y="96" width="74" height="10" rx="5" fill="url(#bcFootring)" filter="url(#bcShadow)"/>
  <rect x="24" y="97" width="70" height="3.5" rx="2.5" fill="#FFF8D0" opacity=".45"/>
  <ellipse cx="22" cy="101" rx="5" ry="5" fill="url(#bcChrome)"/>
  <ellipse cx="96" cy="101" rx="5" ry="5" fill="url(#bcChrome)"/>
  <path d="M16 75 Q16 65 26 65 L92 65 Q102 65 102 75 L102 84 Q102 90 92 90 L26 90 Q16 90 16 84 Z" fill="url(#bcLeather)" filter="url(#bcShadow)"/>
  <path d="M18 74 Q18 67 27 67 L91 67 Q100 67 100 74 L100 80 Q100 74 91 74 L27 74 Q18 74 18 80 Z" fill="url(#bcLeatherH)"/>
  <line x1="24" y1="66" x2="24" y2="89" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="31" y1="66" x2="31" y2="89" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="38" y1="66" x2="38" y2="89" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="45" y1="66" x2="45" y2="89" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="52" y1="66" x2="52" y2="89" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="59" y1="66" x2="59" y2="89" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="66" y1="66" x2="66" y2="89" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="73" y1="66" x2="73" y2="89" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="80" y1="66" x2="80" y2="89" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="87" y1="66" x2="87" y2="89" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="94" y1="66" x2="94" y2="89" stroke="#0A0806" stroke-width="1.2" opacity=".6"/>
  <path d="M20 68 Q59 64 98 68" stroke="#5A4A38" stroke-width="1.5" fill="none" opacity=".5" stroke-linecap="round"/>
  <path d="M16 84 Q16 90 26 90 L92 90 Q102 90 102 84" stroke="url(#bcChrome)" stroke-width="2" fill="none"/>
  <path d="M8 66 L8 86 Q8 92 14 92 L22 92 L22 86 L16 86 L16 66 Z" fill="url(#bcChrome)" filter="url(#bcShadow)"/>
  <path d="M4 58 Q4 52 10 52 L22 52 Q28 52 28 58 L28 70 Q28 74 22 74 L10 74 Q4 74 4 70 Z" fill="url(#bcLeather)"/>
  <line x1="6" y1="56" x2="26" y2="56" stroke="#0A0806" stroke-width=".8" opacity=".6"/><line x1="6" y1="60" x2="26" y2="60" stroke="#0A0806" stroke-width=".8" opacity=".6"/><line x1="6" y1="64" x2="26" y2="64" stroke="#0A0806" stroke-width=".8" opacity=".6"/><line x1="6" y1="68" x2="26" y2="68" stroke="#0A0806" stroke-width=".8" opacity=".6"/>
  <path d="M4 70 Q4 74 10 74 L22 74 Q28 74 28 70" stroke="url(#bcChrome)" stroke-width="1.5" fill="none"/>
  <path d="M110 66 L110 86 Q110 92 104 92 L96 92 L96 86 L102 86 L102 66 Z" fill="url(#bcChrome)" filter="url(#bcShadow)"/>
  <path d="M90 58 Q90 52 96 52 L108 52 Q114 52 114 58 L114 70 Q114 74 108 74 L96 74 Q90 74 90 70 Z" fill="url(#bcLeather)"/>
  <line x1="92" y1="56" x2="112" y2="56" stroke="#0A0806" stroke-width=".8" opacity=".6"/><line x1="92" y1="60" x2="112" y2="60" stroke="#0A0806" stroke-width=".8" opacity=".6"/><line x1="92" y1="64" x2="112" y2="64" stroke="#0A0806" stroke-width=".8" opacity=".6"/><line x1="92" y1="68" x2="112" y2="68" stroke="#0A0806" stroke-width=".8" opacity=".6"/>
  <path d="M90 70 Q90 74 96 74 L108 74 Q114 74 114 70" stroke="url(#bcChrome)" stroke-width="1.5" fill="none"/>
  <path d="M20 18 Q20 8 30 8 L88 8 Q98 8 98 18 L98 66 Q98 70 94 70 L24 70 Q20 70 20 66 Z" fill="url(#bcChrome)" filter="url(#bcShadow)"/>
  <path d="M23 20 Q23 11 32 11 L86 11 Q95 11 95 20 L95 65 Q95 68 92 68 L26 68 Q23 68 23 65 Z" fill="url(#bcLeather)"/>
  <line x1="28" y1="12" x2="28" y2="67" stroke="#0A0806" stroke-width="1.4" opacity=".65"/><line x1="35" y1="12" x2="35" y2="67" stroke="#0A0806" stroke-width="1.4" opacity=".65"/><line x1="42" y1="12" x2="42" y2="67" stroke="#0A0806" stroke-width="1.4" opacity=".65"/><line x1="49" y1="12" x2="49" y2="67" stroke="#0A0806" stroke-width="1.4" opacity=".65"/><line x1="56" y1="12" x2="56" y2="67" stroke="#0A0806" stroke-width="1.4" opacity=".65"/><line x1="63" y1="12" x2="63" y2="67" stroke="#0A0806" stroke-width="1.4" opacity=".65"/><line x1="70" y1="12" x2="70" y2="67" stroke="#0A0806" stroke-width="1.4" opacity=".65"/><line x1="77" y1="12" x2="77" y2="67" stroke="#0A0806" stroke-width="1.4" opacity=".65"/><line x1="84" y1="12" x2="84" y2="67" stroke="#0A0806" stroke-width="1.4" opacity=".65"/><line x1="91" y1="12" x2="91" y2="67" stroke="#0A0806" stroke-width="1.4" opacity=".65"/>
  <line x1="25" y1="20" x2="93" y2="20" stroke="#0A0806" stroke-width=".6" opacity=".3"/><line x1="25" y1="28" x2="93" y2="28" stroke="#0A0806" stroke-width=".6" opacity=".3"/><line x1="25" y1="36" x2="93" y2="36" stroke="#0A0806" stroke-width=".6" opacity=".3"/><line x1="25" y1="44" x2="93" y2="44" stroke="#0A0806" stroke-width=".6" opacity=".3"/><line x1="25" y1="52" x2="93" y2="52" stroke="#0A0806" stroke-width=".6" opacity=".3"/><line x1="25" y1="60" x2="93" y2="60" stroke="#0A0806" stroke-width=".6" opacity=".3"/>
  <path d="M33 11 Q59 8 85 11" stroke="#5A4A38" stroke-width="2" fill="none" opacity=".6" stroke-linecap="round"/>
  <rect x="20" y="15" width="5" height="53" rx="2.5" fill="url(#bcChromeV)" filter="url(#bcShadow)"/>
  <rect x="21" y="16" width="2" height="51" rx="1" fill="#FFF8E0" opacity=".35"/>
  <rect x="93" y="15" width="5" height="53" rx="2.5" fill="url(#bcChromeV)" filter="url(#bcShadow)"/>
  <rect x="94" y="16" width="2" height="51" rx="1" fill="#FFF8E0" opacity=".3"/>
  <rect x="20" y="64" width="78" height="6" rx="3" fill="url(#bcChrome)"/>
  <rect x="22" y="65" width="74" height="2" rx="1" fill="#FFF8E0" opacity=".4"/>
  <rect x="48" y="4" width="22" height="10" rx="4" fill="url(#bcChrome)" filter="url(#bcShadow)"/>
  <path d="M36 3 Q36 -2 42 -2 L76 -2 Q82 -2 82 3 L82 13 Q82 17 76 17 L42 17 Q36 17 36 13 Z" fill="url(#bcLeather)" filter="url(#bcShadow)"/>
  <line x1="42" y1="4" x2="42" y2="16" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="49" y1="4" x2="49" y2="16" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="56" y1="4" x2="56" y2="16" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="63" y1="4" x2="63" y2="16" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="70" y1="4" x2="70" y2="16" stroke="#0A0806" stroke-width="1.2" opacity=".6"/><line x1="77" y1="4" x2="77" y2="16" stroke="#0A0806" stroke-width="1.2" opacity=".6"/>
  <path d="M36 13 Q36 17 42 17 L76 17 Q82 17 82 13" stroke="url(#bcChrome)" stroke-width="2" fill="none"/>
  <path d="M40 4 Q59 1 78 4" stroke="#5A4A38" stroke-width="1.5" fill="none" opacity=".5" stroke-linecap="round"/>
  <rect x="96" y="78" width="16" height="5" rx="2.5" fill="url(#bcBase)"/>
  <ellipse cx="112" cy="80.5" rx="4" ry="4" fill="url(#bcChrome)"/>
  <ellipse cx="112" cy="80.5" rx="2" ry="2" fill="#FFF8E0" opacity=".5"/>
</svg>`;}

// â”€â”€â”€ HOME â”€â”€â”€
function renderHome(){
  const f=state.catFilter;
  const list=PROVS.filter(p=>f==="all"||p.cat===f);
  const h2=new Date().getHours();
  const gr=h2<12?"Guten Morgen":h2<17?"Guten Tag":"Guten Abend";
  const catIcons={barber:"ğŸ’ˆ",friseur:catSVG("friseur"),kosmetik:"âœ¨",aesthetik:"âš•ï¸",nail:"ğŸ’…",massage:catSVG("massage")};
  const catColors={barber:"#C8A84B",friseur:"#9A70C8",kosmetik:"#C86090",aesthetik:"#4AA0D8",nail:"#C8987A",massage:"#4AA890"};
  const catCards=CATS.map(c=>`
    <div onclick="setCat('${c.id}')" style="width:calc(33.33% - 7px);display:flex;flex-direction:column;align-items:center;gap:6px;padding:12px 4px 12px;border-radius:16px;background:${f===c.id?"rgba(200,168,75,.07)":"var(--c2)"};border:1.5px solid ${f===c.id?"var(--gold)":"rgba(200,168,75,.08)"};cursor:pointer;position:relative">
      ${f===c.id?`<div style="position:absolute;top:5px;right:5px;width:14px;height:14px;border-radius:50%;background:var(--gold);font-size:7px;font-weight:900;color:#080706;display:flex;align-items:center;justify-content:center">âœ“</div>`:""}
      <div style="width:44px;height:44px;border-radius:12px;background:linear-gradient(135deg,var(--c3),var(--c4));border:1px solid rgba(200,168,75,.15);display:flex;align-items:center;justify-content:center;${["friseur","massage"].includes(c.id)?"":"font-size:22px"}">${catIcons[c.id]}</div>
      <span style="font-size:10px;font-weight:800;color:${f===c.id?"var(--gold2)":"var(--cream)"};text-align:center;letter-spacing:.03em">${c.lbl}</span>
      <span style="font-size:9px;color:var(--stone);text-align:center;line-height:1.2">${c.sub}</span>
    </div>`).join("");
  const provCards=list.map(p=>`
    <div class="card" onclick="openDetail('${p.id}')" style="cursor:pointer">
      <div style="height:3px;background:${p.bc}"></div>
      <div style="padding:13px 15px">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:7px">
          <div style="flex:1">
            <div style="display:flex;gap:5px;flex-wrap:wrap;margin-bottom:5px">
              ${p.prom?badge("âš¡ Top","bgd"):""}${p.ver?badge("âœ“ Verifiziert","bgr"):""}${p.disc>0?badge("âˆ’"+p.disc+"%","brd"):""}
            </div>
            <p style="font-size:15px;font-weight:800">${p.nm}</p>
            <p style="font-size:12px;color:var(--stone)">${p.st} Â· ${p.city}</p>
          </div>
          <div style="text-align:right;flex-shrink:0">
            <div style="display:flex;align-items:center;gap:3px">${stars(p.rt)}<span style="font-size:12px;font-weight:700;color:var(--gold2)">${p.rt}</span></div>
            <span style="font-size:11px;color:var(--stone)">(${p.rc})</span>
          </div>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="display:flex;gap:4px;align-items:center">
            <div style="width:7px;height:7px;border-radius:50%;background:${p.live?"#4A8A5A":"#C04040"}"></div>
            <span style="font-size:11px;color:${p.live?"#6ABF80":"var(--stone)"}">${p.live?p.frei+" verfÃ¼gbar":"Ausgebucht"}</span>
          </div>
          <span style="font-size:13px;font-weight:800;color:var(--gold2)">ab ${p.svs[0].pr} â‚¬</span>
        </div>
      </div>
    </div>`).join("");
  return`
    <!-- LOGO HERO -->
    <div style="padding:20px 20px 0;display:flex;justify-content:space-between;align-items:center">
      ${logoHeader(true)}
      <div style="text-align:right">
        <p style="font-size:13px;font-weight:600;color:var(--cream)">${gr}</p>
        <p style="font-size:11px;color:var(--stone)">Deutschlandweit buchen</p>
      </div>
    </div>

    <!-- PROMO BANNER -->
    <div style="margin:14px 20px" class="fu d1">
      <div class="card" style="padding:18px;background:linear-gradient(135deg,#1E1A08,#141008)">
        <span class="badge bgd" style="margin-bottom:10px">ğŸ‰ SONDERANGEBOT</span>
        <p class="cinzel" style="font-size:18px;font-weight:600;line-height:1.3;margin-bottom:4px;color:var(--gold2)">Spare bis zu 15%<br/>auf erste Buchung</p>
        <p style="font-size:12px;color:var(--stone);margin-bottom:12px">Code: CHAIR2026</p>
        <button class="bgold" style="width:auto;padding:11px 22px;font-size:13px">Jetzt buchen</button>
      </div>
    </div>

    <!-- SEARCH -->
    <div style="padding:0 20px 14px" class="fu d1">
      <div style="display:flex;align-items:center;gap:10px;padding:12px 16px;background:var(--c2);border-radius:13px;border:1px solid rgba(200,168,75,.1)">
        <span>ğŸ”</span><span style="color:var(--stone2);font-size:14px">Stadt, Name, Service...</span>
      </div>
    </div>

    <!-- CATEGORIES -->
    <div style="padding:0 20px 18px" class="fu d2">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <p class="lsm">Kategorien</p>
        <button onclick="setCat('all')" style="font-size:12px;color:var(--gold);cursor:pointer;border:none;background:none;font-family:inherit">Alle</button>
      </div>
      <div style="display:flex;flex-wrap:wrap;gap:9px">${catCards}</div>
    </div>

    <!-- SPECIALISTS -->
    <div style="margin-bottom:20px" class="fu d2">
      <div style="padding:0 20px;display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <p class="lsm">Top Spezialisten</p>
        <span class="badge bgr" style="font-size:9px">Heute verfÃ¼gbar</span>
      </div>
      <div style="display:flex;gap:12px;overflow-x:auto;padding:0 20px 4px">
        ${SPECS.map(s=>`<div style="flex-shrink:0;text-align:center;width:65px">
          <div style="width:54px;height:54px;border-radius:50%;background:${s.col};display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:800;border:2px solid rgba(200,168,75,.2);margin:0 auto 5px">${s.ini}</div>
          <p style="font-size:11px;font-weight:700">${s.nm.split(" ")[0]}</p>
          <p style="font-size:9px;color:var(--stone)">${s.role.split(" ")[0]}</p>
        </div>`).join("")}
      </div>
    </div>

    <!-- PROVIDERS -->
    <div style="padding:0 20px" class="fu d3">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <p class="lsm">${f==="all"?"Alle Anbieter":CATS.find(c=>c.id===f)?.lbl}</p>
        <span style="font-size:12px;color:var(--stone)">${list.length} gefunden</span>
      </div>
      <div style="display:flex;flex-direction:column;gap:10px">${provCards}</div>
    </div>
    <div style="height:20px"></div>`;}

// â”€â”€â”€ DETAIL â”€â”€â”€
function renderDetail(){
  const p=state.detail;const dt=state.detailTab;
  const specs=SPECS.filter(s=>p.sps.includes(s.id));
  const tabs=["info","services","team","bewertungen"].map(t=>`
    <button onclick="setDetailTab('${t}')" style="padding:7px 14px;border-radius:20px;font-size:12px;font-weight:700;flex-shrink:0;background:${dt===t?"var(--gold)":"var(--c3)"};color:${dt===t?"#080706":"var(--stone)"};border:1px solid ${dt===t?"var(--gold)":"rgba(200,168,75,.1)"};cursor:pointer;font-family:inherit">
      ${t.charAt(0).toUpperCase()+t.slice(1)}
    </button>`).join("");
  let content="";
  if(dt==="info") content=`<p style="font-size:14px;color:var(--stone);line-height:1.7;margin-bottom:14px">${p.tl}</p>
    <div style="display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px">${p.tags.map(t=>badge(t,"bgd")).join("")}</div>
    <div class="card" style="padding:14px"><p class="lgold" style="margin-bottom:10px">Warum ChairMatch?</p>
      ${[["0 % Provision","vs. 35% bei Treatwell"],["Direktbuchung","Kein Umweg"],["Verifiziert","Gewerbeschein geprÃ¼ft"]].map(([k,v])=>`
        <div style="display:flex;justify-content:space-between;padding:7px 0;border-bottom:1px solid rgba(200,168,75,.06);font-size:13px">
          <span style="font-weight:700;color:var(--gold2)">${k}</span>
          <span style="color:var(--stone);font-size:12px">${v}</span>
        </div>`).join("")}
    </div>`;
  if(dt==="services") content=`<div style="display:flex;flex-direction:column;gap:8px">
    ${p.svs.map(s=>`<div style="display:flex;justify-content:space-between;align-items:center;padding:13px 15px;background:var(--c2);border-radius:13px;border:1px solid rgba(200,168,75,.08)">
      <div><p style="font-size:14px;font-weight:700">${s.nm}</p><p style="font-size:12px;color:var(--stone)">${s.dur} min</p></div>
      <div style="display:flex;gap:10px;align-items:center">
        <span style="font-size:15px;font-weight:800;color:var(--gold2)">${s.pr} â‚¬</span>
        <button class="bgold" style="width:auto;padding:8px 14px;font-size:12px" onclick="openBooking('${p.id}')">Buchen</button>
      </div>
    </div>`).join("")}
  </div>`;
  if(dt==="team") content=`<div style="display:flex;gap:10px;flex-wrap:wrap">
    ${specs.map(s=>`<div style="flex:1 1 calc(50% - 5px);padding:14px;background:var(--c2);border-radius:16px;text-align:center;border:1px solid rgba(200,168,75,.08)">
      <div style="width:48px;height:48px;border-radius:50%;background:${s.col};display:flex;align-items:center;justify-content:center;font-size:15px;font-weight:800;margin:0 auto 8px">${s.ini}</div>
      <p style="font-size:13px;font-weight:700">${s.nm}</p>
      <p style="font-size:11px;color:var(--stone);margin-bottom:5px">${s.role}</p>${stars(s.rt)}
    </div>`).join("")}
  </div>`;
  if(dt==="bewertungen") content=`
    <div style="display:flex;align-items:center;gap:12px;padding:14px;background:var(--c2);border-radius:14px;border:1px solid rgba(200,168,75,.08);margin-bottom:14px">
      <p class="cinzel" style="font-size:36px;font-weight:700;color:var(--gold2)">${p.rt}</p>
      <div>${stars(p.rt)}<p style="font-size:12px;color:var(--stone);margin-top:4px">${p.rc} Bewertungen</p></div>
    </div>
    ${p.revs.map(r=>`<div style="padding:13px 15px;background:var(--c2);border-radius:13px;margin-bottom:8px;border:1px solid rgba(200,168,75,.06)">
      <div style="display:flex;justify-content:space-between;margin-bottom:4px">
        <p style="font-size:13px;font-weight:700">${r.u}</p>
        <span style="font-size:11px;color:var(--stone)">${r.d}</span>
      </div>
      ${stars(r.s)}<p style="font-size:13px;color:var(--stone);line-height:1.6;margin-top:5px">${r.t}</p>
    </div>`).join("")}`;
  return`<div class="sticky">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
      <button onclick="goBack()" style="font-size:13px;color:var(--stone);cursor:pointer;border:none;background:none;font-family:inherit">â† ZurÃ¼ck</button>
      <button class="bgold" style="width:auto;padding:10px 20px;font-size:13px" onclick="openBooking('${p.id}')">Buchen</button>
    </div>
    <p style="font-size:18px;font-weight:800;margin-bottom:2px">${p.nm}</p>
    <p style="font-size:12px;color:var(--stone);margin-bottom:10px">${p.st} Â· ${p.city}</p>
    <div style="display:flex;gap:7px;overflow-x:auto">${tabs}</div>
  </div>
  <div style="padding:18px 20px">${content}</div>`;}

// â”€â”€â”€ EXPLORE / OFFERS / ACCOUNT â”€â”€â”€
function renderExplore(){return`<div style="padding:50px 20px 0">
  <div style="margin-bottom:16px">${logoHeader(true)}</div>
  <p class="lsm" style="margin-bottom:12px">Jetzt buchen</p>
  <div style="display:flex;flex-direction:column;gap:9px">
    ${PROVS.filter(p=>p.live).map(p=>`<div class="card" style="padding:13px 15px;cursor:pointer;display:flex;justify-content:space-between;align-items:center" onclick="openDetail('${p.id}')">
      <div><p style="font-size:15px;font-weight:800">${p.nm}</p><p style="font-size:12px;color:var(--stone)">${p.st}</p></div>
      <button class="bgold" style="width:auto;padding:9px 16px;font-size:12px" onclick="event.stopPropagation();openBooking('${p.id}')">Buchen</button>
    </div>`).join("")}
  </div>
</div>`;}

function renderOffers(){return`<div style="padding:50px 20px 0">
  <div style="margin-bottom:16px">${logoHeader(true)}</div>
  <p class="lsm" style="margin-bottom:12px">Angebote</p>
  ${PROVS.filter(p=>p.disc>0).map(p=>`<div class="card" style="padding:15px;margin-bottom:10px;background:linear-gradient(135deg,#1E1A08,#141008)">
    <span class="badge brd" style="margin-bottom:8px">âˆ’${p.disc}% Rabatt</span>
    <p style="font-size:15px;font-weight:800;margin-bottom:2px">${p.nm}</p>
    <p style="font-size:12px;color:var(--stone);margin-bottom:10px">${p.tl}</p>
    <button class="bgold" style="width:auto;padding:10px 20px;font-size:13px" onclick="openDetail('${p.id}')">Jetzt buchen</button>
  </div>`).join("")}
  <div class="card" style="padding:15px">
    <p class="lgold" style="margin-bottom:7px">ğŸ Freunde werben</p>
    <p class="cinzel" style="font-size:17px;font-weight:600;margin-bottom:5px;color:var(--gold2)">5 â‚¬ pro Empfehlung</p>
    <p style="font-size:12px;color:var(--stone);margin-bottom:12px">Du & dein Freund erhalten je 5 â‚¬</p>
    <button class="bgold" style="width:auto;padding:10px 20px;font-size:13px">Link teilen</button>
  </div>
</div>`;}

function renderAccount(){
  const r=state.role;
  const bkgs=[{nm:"Ahmed K.",sv:"Skin Fade",t:"Mi 26.02 Â· 10:00",st:"BestÃ¤tigt",pr:48},{nm:"Sofia M.",sv:"Deep Cleanse",t:"Fr 28.02 Â· 14:00",st:"Ausstehend",pr:85}];
  const sc={BestÃ¤tigt:"#4A8A5A",Ausstehend:"var(--gold)",Storniert:"#C04040"};
  return`<div style="padding:20px 20px 0">
    <div style="margin-bottom:18px">${logoHeader(true)}</div>
    <div style="display:flex;gap:7px;margin-bottom:18px">
      ${[["CUSTOMER","Kunde"],["PROVIDER","Anbieter"],["B2B","B2B"]].map(([rv,lv])=>`
        <button onclick="setRole('${rv}')" style="flex:1;padding:10px 0;border-radius:12px;font-size:12px;font-weight:700;cursor:pointer;font-family:inherit;background:${r===rv?"var(--gold)":"var(--c2)"};color:${r===rv?"#080706":"var(--stone)"};border:1px solid ${r===rv?"var(--gold)":"rgba(200,168,75,.12)"}">
          ${lv}
        </button>`).join("")}
    </div>
    <div class="card" style="padding:15px;margin-bottom:14px;background:linear-gradient(135deg,#1E1A08,#141008)">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div><p class="lgold" style="margin-bottom:3px">Referral Guthaben</p>
          <p class="cinzel" style="font-size:24px;font-weight:700;color:var(--gold2)">15,00 â‚¬</p></div>
        <button class="bgold" style="width:auto;padding:10px 14px;font-size:12px">âœ¨ Empfehlen</button>
      </div>
    </div>
    ${r==="CUSTOMER"?`<div class="card" onclick="goSub('register')" style="padding:0;margin-bottom:14px;background:linear-gradient(135deg,#1A1608,#100E04);cursor:pointer;border:1px solid rgba(200,168,75,.2);overflow:hidden">
      <div style="display:flex;align-items:center;gap:0">
        <!-- DB Seat showcase -->
        <div style="flex-shrink:0;width:130px;height:130px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#0A0600,#180C04);border-right:1px solid rgba(200,168,75,.12);position:relative;overflow:hidden">
          <div style="position:absolute;inset:0;background:radial-gradient(ellipse at 50% 80%,rgba(200,100,0,.08),transparent 70%)"></div>
          ${dbSeat()}
        </div>
        <!-- Text content -->
        <div style="flex:1;padding:16px 14px">
          <p class="lgold" style="margin-bottom:6px">ğŸ’º STUHL VERMIETEN</p>
          <p class="cinzel" style="font-size:15px;font-weight:700;margin-bottom:6px;color:var(--gold2);line-height:1.3">Premium Stuhl<br/>& Kabinen</p>
          <p style="font-size:11px;color:var(--stone);margin-bottom:12px;line-height:1.6">0 % Provision<br/>Deutschlandweit</p>
          <span class="badge bgd" style="font-size:10px">â†’ Anbieter werden</span>
        </div>
      </div>
    </div>`:""}
    <p class="lsm" style="margin-bottom:10px">Buchungen</p>
    ${bkgs.map(b=>`<div class="card" style="padding:13px 15px;margin-bottom:8px">
      <div style="display:flex;justify-content:space-between;margin-bottom:3px">
        <p style="font-size:14px;font-weight:700">${b.nm}</p>
        <span style="font-size:12px;font-weight:700;color:${sc[b.st]||"var(--stone)"}">${b.st}</span>
      </div>
      <p style="font-size:13px;color:var(--stone);margin-bottom:2px">${b.sv}</p>
      <div style="display:flex;justify-content:space-between">
        <span style="font-size:12px;color:var(--stone)">${b.t}</span>
        <span style="font-size:13px;font-weight:800;color:var(--gold2)">${b.pr} â‚¬</span>
      </div>
    </div>`).join("")}
    <div style="margin-top:22px;padding-top:16px;border-top:1px solid rgba(200,168,75,.08)">
      <p class="lsm" style="margin-bottom:10px">Rechtliches</p>
      ${[["ğŸ“‹ DatenschutzerklÃ¤rung (DSGVO)","dsgvo"],["ğŸ“„ Impressum","impressum"],["ğŸ’º Als Anbieter registrieren","register"]].map(([lv,pg])=>`
        <div onclick="goSub('${pg}')" style="display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid rgba(200,168,75,.06);cursor:pointer">
          <span style="font-size:13px">${lv}</span><span style="color:var(--stone)">â€º</span>
        </div>`).join("")}
      <p style="font-size:11px;color:var(--stone2);margin-top:14px;text-align:center;line-height:1.7">ChairMatch GmbH (i. Gr.) Â· Deutschland Â· v5.0 Â· Â© 2026</p>
    </div>
    <div style="height:20px"></div>
  </div>`;}

// â”€â”€â”€ SUB PAGES â”€â”€â”€
function renderSubPage(){
  const p=state.subPage;
  if(p==="dsgvo")return renderDsgvo();
  if(p==="impressum")return renderImpressum();
  if(p==="register")return renderRegister();
  return"";}
function renderDsgvo(){
  const items=[["1. Verantwortlicher","ChairMatch GmbH (i. Gr.), Deutschland. datenschutz@chairmatch.de"],["2. Erhobene Daten","Name, E-Mail, Telefon, Buchungsdaten. Anbieter: Gewerbedaten, IBAN."],["3. Rechtsgrundlage","VertragserfÃ¼llung Art. 6 I b DSGVO."],["4. Weitergabe","Keine Weitergabe zu Werbezwecken. Nur Auftragsverarbeiter (Art. 28 DSGVO)."],["5. Speicherdauer","Buchungsdaten: 10 Jahre. Logs: 90 Tage."],["6. Ihre Rechte","Auskunft Â· Berichtigung Â· LÃ¶schung Â· Widerspruch (Art. 15â€“21 DSGVO)"],["7. Beschwerderecht","HBDI Hessen, Postfach 3163, 65021 Wiesbaden"]];
  return`<div class="sticky"><button onclick="goSub(null)" style="font-size:13px;color:var(--stone);cursor:pointer;border:none;background:none;font-family:inherit;margin-bottom:6px">â† ZurÃ¼ck</button>
    <h1 style="font-size:20px;font-weight:700;font-family:'Cinzel',serif;color:var(--gold2)">Datenschutz</h1>
    <p style="font-size:12px;color:var(--stone)">DSGVO Â· Stand 02/2026</p></div>
  <div style="padding:18px 20px 40px">
    <div style="background:rgba(74,138,90,.08);border:1px solid rgba(74,138,90,.2);border-radius:12px;padding:12px 14px;margin-bottom:18px">
      <p style="font-size:13px;font-weight:700;color:#6ABF80">âœ“ DSGVO-konform Â· App Store & Play Store geprÃ¼ft</p>
    </div>
    ${items.map(([t,tx])=>`<div style="margin-bottom:16px"><p style="font-size:13px;font-weight:800;color:var(--gold2);margin-bottom:5px">${t}</p><p style="font-size:13px;color:var(--stone);line-height:1.7">${tx}</p><div style="height:1px;background:linear-gradient(90deg,transparent,rgba(200,168,75,.15),transparent);margin-top:14px"></div></div>`).join("")}
  </div>`;}
function renderImpressum(){
  const items=[["Unternehmen","ChairMatch GmbH (i. Gr.)\nMÃ¼nchener Str. 17\n60329 Frankfurt am Main"],["Kontakt","Tel: +49 (0) 69 XXX XXXX\ninfo@chairmatch.de"],["Handelsregister","Amtsgericht Frankfurt Â· HRB XXXXX"],["USt-ID","DE XXX XXX XXX"],["Haftung","ChairMatch ist Vermittlungsplattform."],["Streitbeilegung","https://ec.europa.eu/consumers/odr"]];
  return`<div class="sticky"><button onclick="goSub(null)" style="font-size:13px;color:var(--stone);cursor:pointer;border:none;background:none;font-family:inherit;margin-bottom:6px">â† ZurÃ¼ck</button>
    <h1 style="font-size:20px;font-weight:700;font-family:'Cinzel',serif;color:var(--gold2)">Impressum</h1>
    <p style="font-size:12px;color:var(--stone)">Â§ 5 TMG</p></div>
  <div style="padding:18px 20px 40px">
    ${items.map(([t,tx])=>`<div style="margin-bottom:16px"><p style="font-size:11px;font-weight:800;color:var(--gold2);letter-spacing:.05em;text-transform:uppercase;margin-bottom:5px">${t}</p><p style="font-size:13px;color:var(--stone);line-height:1.7;white-space:pre-line">${tx}</p><div style="height:1px;background:linear-gradient(90deg,transparent,rgba(200,168,75,.15),transparent);margin-top:14px"></div></div>`).join("")}
  </div>`;}
function renderRegister(){
  const s=state.regStep;const f=state.regData;
  const snames=["PersÃ¶nliche Daten","GeschÃ¤ftsdaten","Services & Stuhl","BestÃ¤tigung"];
  if(state.regDone)return`<div style="padding:36px 22px;text-align:center">
    <div style="margin-bottom:16px">${logoHeader(false)}</div>
    <h2 style="font-size:22px;margin-bottom:8px;font-family:'Cinzel',serif;color:var(--gold2)">Eingereicht!</h2>
    <p style="font-size:13px;color:var(--stone);margin-bottom:18px;line-height:1.7">PrÃ¼fung innerhalb 24h.<br/>E-Mail-BestÃ¤tigung folgt.</p>
    <button class="bgold" onclick="goSub(null)">ZurÃ¼ck zur App</button>
  </div>`;
  let body="";
  if(s===1)body=`<div style="display:flex;flex-direction:column;gap:12px">
    ${[["Vorname","vn","text","Max"],["Nachname","nn","text","Mustermann"],["E-Mail","em","email","max@mail.de"],["Telefon","tel","tel","+49 170 ..."]].map(([l,k,t,ph])=>`<div><label style="font-size:12px;color:var(--stone);display:block;margin-bottom:4px">${l}</label><input class="inp" type="${t}" value="${f[k]}" oninput="updateReg('${k}',this.value)" placeholder="${ph}"/></div>`).join("")}
  </div>`;
  if(s===2)body=`<div style="display:flex;flex-direction:column;gap:12px">
    ${[["GeschÃ¤ftsname","geschaeft","Mein Studio"],["StraÃŸe + Nr.","st","MÃ¼nchener Str. 17"],["PLZ","plz","60329"],["Stadt","city","Frankfurt"]].map(([l,k,ph])=>`<div><label style="font-size:12px;color:var(--stone);display:block;margin-bottom:4px">${l}</label><input class="inp" value="${f[k]}" oninput="updateReg('${k}',this.value)" placeholder="${ph}"/></div>`).join("")}
    <div><label style="font-size:12px;color:var(--stone);display:block;margin-bottom:8px">Kategorie</label>
    <div style="display:flex;gap:7px;flex-wrap:wrap">${["Barbershop","Friseur","Kosmetik","Ã„sthetik Arzt","Nail & Lash","Massage"].map(c=>`<button onclick="updateReg('kat','${c}')" style="padding:9px 13px;border-radius:10px;font-size:12px;font-weight:700;cursor:pointer;font-family:inherit;background:${f.kat===c?"var(--gold)":"var(--c3)"};color:${f.kat===c?"#080706":"var(--stone)"};border:1px solid ${f.kat===c?"var(--gold)":"rgba(200,168,75,.12)"}">${c}</button>`).join("")}</div></div>
    <div><label style="font-size:12px;color:var(--stone);display:block;margin-bottom:4px">IBAN</label><input class="inp" value="${f.iban}" oninput="updateReg('iban',this.value)" placeholder="DE89 3704 ..."/></div>
    <div onclick="updateReg('gb',${!f.gb})" style="display:flex;gap:10px;align-items:center;padding:12px 14px;background:var(--c2);border-radius:12px;border:1px solid ${f.gb?"var(--gold)":"rgba(200,168,75,.1)"};cursor:pointer">
      <div class="check ${f.gb?"on":""}">${f.gb?"âœ“":""}</div>
      <div><p style="font-size:13px;font-weight:700">Gewerbeschein vorhanden</p><p style="font-size:11px;color:var(--stone)">Hochladen nach Registrierung</p></div>
    </div>
  </div>`;
  if(s===3)body=`<div style="display:flex;flex-direction:column;gap:14px">
    <p class="lgold">ğŸ’º Stuhl / Kabine vermieten</p>
    <p style="font-size:13px;color:var(--stone);line-height:1.6">KerngeschÃ¤ft: Freie StÃ¼hle vermieten. 0 % Provision.</p>
    <div onclick="updateReg('chair',${!f.chair})" style="display:flex;gap:10px;align-items:center;padding:13px 15px;background:${f.chair?"rgba(200,168,75,.06)":"var(--c2)"};border-radius:12px;border:1.5px solid ${f.chair?"var(--gold)":"rgba(200,168,75,.1)"};cursor:pointer">
      <div class="check ${f.chair?"on":""}">${f.chair?"âœ“":""}</div>
      <div><p style="font-size:13px;font-weight:700">Ja, ich vermiete StÃ¼hle âœ¦</p><p style="font-size:11px;color:var(--stone)">Zusatzeinnahmen durch Untervermietung</p></div>
    </div>
    ${f.chair?`<div><label style="font-size:12px;color:var(--stone);display:block;margin-bottom:4px">Preis/Tag (â‚¬)</label><input class="inp" type="number" value="${f.cpr}" oninput="updateReg('cpr',this.value)" placeholder="45"/></div>`:""}
  </div>`;
  if(s===4)body=`<div>
    <p class="lgold" style="margin-bottom:14px">âœ… Zusammenfassung</p>
    <div class="card" style="padding:14px;margin-bottom:16px">
      ${[["Name",f.vn+" "+f.nn],["E-Mail",f.em],["GeschÃ¤ft",f.geschaeft],["Stadt",f.city],["Kategorie",f.kat],["Stuhlmiete",f.chair?f.cpr+"â‚¬/Tag":"Nein"]].map(([k,v])=>`<div style="display:flex;justify-content:space-between;padding:7px 0;border-bottom:1px solid rgba(200,168,75,.06);font-size:13px"><span style="color:var(--stone)">${k}</span><span style="font-weight:600">${v||"â€”"}</span></div>`).join("")}
    </div>
    <div onclick="updateReg('agb',${!f.agb})" style="display:flex;gap:10px;padding:12px 0;border-bottom:1px solid rgba(200,168,75,.06);cursor:pointer;align-items:center"><div class="check ${f.agb?"on":""}">${f.agb?"âœ“":""}</div><p style="font-size:13px;font-weight:600">AGB akzeptieren</p></div>
    <div onclick="updateReg('dsgvo',${!f.dsgvo})" style="display:flex;gap:10px;padding:12px 0;border-bottom:1px solid rgba(200,168,75,.06);cursor:pointer;align-items:center"><div class="check ${f.dsgvo?"on":""}">${f.dsgvo?"âœ“":""}</div><p style="font-size:13px;font-weight:600">DatenschutzerklÃ¤rung akzeptieren</p></div>
  </div>`;
  return`<div class="sticky"><button onclick="goSub(null)" style="font-size:13px;color:var(--stone);cursor:pointer;border:none;background:none;font-family:inherit;margin-bottom:6px">â† ZurÃ¼ck</button>
    <h1 style="font-size:18px;font-weight:700;font-family:'Cinzel',serif;color:var(--gold2)">Anbieter registrieren</h1>
    <p style="font-size:11px;color:var(--stone);margin-bottom:8px">Schritt ${s}/4 â€” ${snames[s-1]}</p>
    <div class="pbar"><div class="pfill" style="width:${s/4*100}%"></div></div></div>
  <div style="padding:22px 20px 40px">
    ${body}
    <div style="display:flex;gap:10px;margin-top:22px">
      ${s>1?`<button class="boutline" style="flex:0 0 auto;padding:13px 18px" onclick="setRegStep(${s-1})">â†</button>`:""}
      <button class="bgold" style="flex:1;padding:14px 0;font-size:14px;font-weight:800" ${s===4&&(!f.agb||!f.dsgvo)?"disabled":""} onclick="${s===4?"submitReg()":"setRegStep("+(s+1)+")"}">
        ${s===4?"Jetzt registrieren â†’":"Weiter â†’"}
      </button>
    </div>
  </div>`;}

// â”€â”€â”€ BOOKING â”€â”€â”€
function renderBooking(){
  const p=state.bookingProv;const s=state.bookStep;
  const today=new Date();
  const days=["So","Mo","Di","Mi","Do","Fr","Sa"];
  const dl=Array.from({length:7},(_,i)=>{const d=new Date(today);d.setDate(today.getDate()+i);return{i,day:days[d.getDay()],dt:d.getDate()};});
  const ts=["09:00","10:00","11:00","13:00","14:00","15:00","16:00","18:00","19:00"];
  const specs=SPECS.filter(sp=>p.sps.includes(sp.id));
  const sv=state.bookSv;const slot=state.bookSlot;const day=state.bookDay;const sp=state.bookSp;
  if(state.bookDone)return`<div style="padding:36px 22px;text-align:center">
    <div style="width:60px;height:60px;border-radius:50%;background:rgba(74,138,90,.15);border:1px solid rgba(74,138,90,.3);display:flex;align-items:center;justify-content:center;font-size:26px;margin:0 auto 14px">âœ“</div>
    <h2 style="font-size:22px;margin-bottom:6px;font-family:'Cinzel',serif;color:var(--gold2)">BestÃ¤tigt!</h2>
    <p style="font-size:13px;color:var(--stone);margin-bottom:18px">${p.nm} Â· ${sv?.nm} Â· ${dl[day]?.day} ${dl[day]?.dt}.02 Â· ${slot}</p>
    <div class="card" style="padding:14px;margin-bottom:16px;text-align:left">
      <div style="display:flex;justify-content:space-between;padding:8px 0;font-size:15px">
        <span style="color:var(--gold2);font-weight:700">Gesamt</span>
        <span style="font-weight:800;color:var(--gold2)">${sv?.pr} â‚¬</span>
      </div>
    </div>
    <p style="font-size:11px;color:var(--stone);margin-bottom:16px">0 % BuchungsgebÃ¼hr Â· Kostenlose Stornierung 24h</p>
    <button class="bgold" onclick="closeBooking()">Fertig</button>
  </div>`;
  let body="";
  if(s===1){body=`
    <p class="lsm" style="margin-bottom:10px">Service</p>
    <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:18px">
      ${p.svs.map(sv2=>`<div onclick="selectSv('${sv2.id}')" style="display:flex;justify-content:space-between;align-items:center;padding:13px 15px;background:${state.bookSv?.id===sv2.id?"rgba(200,168,75,.08)":"var(--c2)"};border-radius:13px;border:1.5px solid ${state.bookSv?.id===sv2.id?"var(--gold)":"rgba(200,168,75,.08)"};cursor:pointer">
        <div><p style="font-size:14px;font-weight:700">${sv2.nm}</p><p style="font-size:12px;color:var(--stone)">${sv2.dur} min</p></div>
        <span style="font-size:15px;font-weight:800;color:var(--gold2)">${sv2.pr} â‚¬</span>
      </div>`).join("")}
    </div>
    <p class="lsm" style="margin-bottom:10px">Tag</p>
    <div style="display:flex;gap:7px;margin-bottom:18px;overflow-x:auto;padding-bottom:4px">
      ${dl.map((d,i)=>`<div onclick="selectDay(${i})" style="flex-shrink:0;width:46px;padding:9px 6px;border-radius:13px;text-align:center;cursor:pointer;background:${day===i?"var(--gold)":"var(--c2)"};border:1px solid ${day===i?"var(--gold)":"rgba(200,168,75,.1)"}">
        <p style="font-size:10px;font-weight:700;color:${day===i?"#080706":"var(--stone)"}">${d.day}</p>
        <p style="font-size:15px;font-weight:800;color:${day===i?"#080706":"var(--cream)"}">${d.dt}</p>
      </div>`).join("")}
    </div>
    <p class="lsm" style="margin-bottom:10px">Uhrzeit</p>
    <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:20px">
      ${ts.map(t=>{const av=Math.random()>.35;return`<div onclick="${av?`selectSlot('${t}')`:"return false"}" style="padding:9px 13px;border-radius:10px;font-size:13px;font-weight:700;cursor:${av?"pointer":"default"};background:${slot===t?"var(--gold)":av?"var(--c3)":"var(--c2)"};color:${slot===t?"#080706":av?"var(--cream)":"var(--stone2)"};border:1px solid ${slot===t?"var(--gold)":"rgba(200,168,75,.08)"};text-decoration:${av?"none":"line-through"};opacity:${av?1:.4}">${t}</div>`;}).join("")}
    </div>
    <button class="bgold" ${!state.bookSv||!state.bookSlot?"disabled":""} onclick="setBookStep(2)">Weiter â†’</button>`;}
  if(s===2){body=`
    <p class="lsm" style="margin-bottom:10px">Spezialist</p>
    <div style="display:flex;gap:10px;margin-bottom:20px;overflow-x:auto;padding-bottom:4px">
      ${specs.map(spec=>`<div onclick="selectSp('${spec.id}')" style="flex-shrink:0;width:106px;padding:13px 10px;border-radius:16px;text-align:center;cursor:pointer;background:${sp?.id===spec.id?"rgba(200,168,75,.08)":"var(--c2)"};border:1.5px solid ${sp?.id===spec.id?"var(--gold)":"rgba(200,168,75,.08)"}">
        <div style="width:48px;height:48px;border-radius:50%;background:${spec.col};display:flex;align-items:center;justify-content:center;font-size:15px;font-weight:800;margin:0 auto 8px">${spec.ini}</div>
        <p style="font-size:11px;font-weight:700;margin-bottom:2px">${spec.nm}</p>${stars(spec.rt)}
      </div>`).join("")}
    </div>
    <div style="display:flex;gap:10px">
      <button class="boutline" style="flex:0 0 auto;padding:13px 18px" onclick="setBookStep(1)">â†</button>
      <button class="bgold" style="flex:1" onclick="setBookStep(3)">Weiter â†’</button>
    </div>`;}
  if(s===3){body=`
    <p class="lsm" style="margin-bottom:10px">Kontakt</p>
    <div style="display:flex;flex-direction:column;gap:10px;margin-bottom:16px">
      <div><label style="font-size:12px;color:var(--stone);display:block;margin-bottom:4px">Name</label><input class="inp" id="bkNm" placeholder="Max Mustermann"/></div>
      <div><label style="font-size:12px;color:var(--stone);display:block;margin-bottom:4px">E-Mail</label><input class="inp" id="bkEm" type="email" placeholder="max@mail.de"/></div>
    </div>
    <div class="card" style="padding:13px;margin-bottom:14px">
      ${[[sv?.nm,sv?.pr+"â‚¬"],[dl[day]?.day+" "+dl[day]?.dt+".02",slot]].map(([k,v])=>`<div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid rgba(200,168,75,.06);font-size:13px"><span style="color:var(--stone)">${k}</span><span style="font-weight:700">${v}</span></div>`).join("")}
    </div>
    <div style="display:flex;gap:10px">
      <button class="boutline" style="flex:0 0 auto;padding:13px 18px" onclick="setBookStep(2)">â†</button>
      <button class="bgold" style="flex:1" onclick="confirmBooking()">Jetzt buchen</button>
    </div>`;}
  return`<div class="sticky">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
      <button onclick="closeBooking()" style="font-size:13px;color:var(--stone);cursor:pointer;border:none;background:none;font-family:inherit">âœ•</button>
      <span style="font-size:12px;color:var(--stone)">Schritt ${s}/3</span>
    </div>
    <div class="pbar"><div class="pfill" style="width:${s/3*100}%"></div></div>
  </div>
  <div style="padding:20px;padding-bottom:30px">${body}</div>`;}

// â•â•â• ACTIONS â•â•â•
function nextOb(){state.obStep++;render();}
function finishOnboarding(r){state.role=r;state.onboarded=true;state.tab="home";document.getElementById("mainScreen").scrollTop=0;render();}
function goTab(t){state.tab=t;state.detail=null;state.subPage=null;document.getElementById("mainScreen").scrollTop=0;render();}
function openDetail(id){state.detail=PROVS.find(p=>p.id===id);state.detailTab="info";document.getElementById("mainScreen").scrollTop=0;render();}
function setDetailTab(t){state.detailTab=t;render();}
function goBack(){state.detail=null;state.tab="home";render();}
function setCat(c){state.catFilter=c;render();}
function setRole(r){state.role=r;render();}
function goSub(p){state.subPage=p;document.getElementById("mainScreen").scrollTop=0;render();}
function openBooking(id){state.bookingProv=PROVS.find(p=>p.id===id);state.bookStep=1;state.bookSv=null;state.bookSlot=null;state.bookSp=null;state.bookDone=false;render();}
function closeBooking(){state.bookingProv=null;state.bookDone=false;render();}
function selectSv(id){state.bookSv=state.bookingProv.svs.find(s=>s.id===id);render();}
function selectDay(i){state.bookDay=i;state.bookSlot=null;render();}
function selectSlot(t){state.bookSlot=t;render();}
function selectSp(id){state.bookSp=SPECS.find(s=>s.id===id);render();}
function setBookStep(s){state.bookStep=s;render();}
function confirmBooking(){state.bookDone=true;render();}
function updateReg(k,v){state.regData[k]=v==="true"?true:v==="false"?false:v;render();}
function setRegStep(s){state.regStep=s;render();}
function submitReg(){state.regDone=true;render();}

render();
</script>
</body>
</html>
